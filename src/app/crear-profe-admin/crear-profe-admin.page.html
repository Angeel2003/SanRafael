<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>Perfil Administrador/Profesor</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-grid>
    <h2>Información del Perfil</h2>

    <!-- Nombre -->
    <ion-row>
      <ion-col size="12">
        <ion-item>
          <ion-label position="stacked">Nombre</ion-label>
          <ion-input [(ngModel)]="adminProfe.nombre" name="nombre" placeholder="Ingrese el nombre"></ion-input>
        </ion-item>
      </ion-col>
    </ion-row>

    <!-- Correo -->
    <ion-row>
      <ion-col size="12">
        <ion-item>
          <ion-label position="stacked">Correo</ion-label>
          <ion-input [(ngModel)]="adminProfe.correo" name="correo" type="email" placeholder="Ingrese el correo"></ion-input>
        </ion-item>
      </ion-col>
    </ion-row>

    <!-- Rol -->
    <ion-row>
      <ion-col size="12">
        <ion-item>
          <ion-label position="stacked">Rol</ion-label>
          <ion-select [(ngModel)]="adminProfe.rol" name="rol" placeholder="Seleccione el rol">
            <ion-select-option value="admin">Administrador</ion-select-option>
            <ion-select-option value="profesor">Profesor</ion-select-option>
          </ion-select>
        </ion-item>
      </ion-col>
    </ion-row>

    <!-- Foto de Perfil -->
<ion-row>
  <ion-col size="12">
    <ion-item lines="none">
      <ion-label position="stacked">Foto de Perfil</ion-label>
      <div class="image-preview-container">
        <img *ngIf="adminProfe.foto" [src]="adminProfe.foto" alt="Vista previa" class="profile-image-preview">
      </div>
    </ion-item>
    <ion-button expand="block" (click)="triggerImageInput()">Subir Imagen</ion-button>
    <input type="file" id="imageInput" accept="image/*" (change)="onImageSelected($event)" hidden>
  </ion-col>
</ion-row>

    <!-- Contraseña -->
    <h2>Contraseña</h2>
    <ion-row>
      <ion-col size="12">
        <ion-item>
          <ion-label position="stacked">Contraseña</ion-label>
          <ion-input 
            [(ngModel)]="adminProfe.contrasena" 
            name="contrasena" 
            [type]="passwordVisible ? 'text' : 'password'" 
            placeholder="Ingrese su contraseña">
          </ion-input>
          <ion-icon 
            slot="end" 
            [name]="passwordVisible ? 'eye' : 'eye-off'" 
            (click)="togglePasswordVisibility()">
          </ion-icon>
        </ion-item>
      </ion-col>
    </ion-row>

    <!-- Botón Guardar -->
    <ion-row>
      <ion-col size="12" class="ion-text-right">
        <ion-button expand="block" (click)="guardarPerfil()">Guardar</ion-button>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>
